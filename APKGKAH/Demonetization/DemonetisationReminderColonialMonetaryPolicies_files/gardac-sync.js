/*!
 * Copyright (c) 2019 by Marfeel Solutions (http://www.marfeel.com)
 * All Rights Reserved.
 * 
 * NOTICE:  All information contained herein is, and remains
 * the property of Marfeel Solutions S.L and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Marfeel Solutions S.L and its
 * suppliers and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Marfeel Solutions SL.
 * 
 */!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n=window;function a(e){if(e.length>1){for(var t=e.substring(1).split("&"),r=[],n=0;n<t.length;++n)!/^utm_/.test(t[n])&&r.push(t[n]);return r.join("&")}return null}function o(e){return e?self.URL&&self.URL.prototype.hasOwnProperty("origin")?function(e){return new self.URL(e)}(e):function(e){var t=document.createElement("a");return t.href=e,t}(e):e}function i(e,t){for(var r=Object(e),n=1;n<arguments.length;n++){var a=arguments[n];if(a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r}var l=null,f=90,s=1024,d=2e3,c=270,u=240,m=140,g=100,h=.56,p=.53,w=2147483647;function v(e,t){var r,n,a=window.innerWidth/s,o=Math.abs(window.orientation)===f?"landscape":"portrait";r="s"===t?(n="portrait"===o?c:u)*h:(n="portrait"===o?m:g)*p,e.height=r*a+"px",e.width=n*a+"px"}function x(e){var t=window.innerWidth,r=document.createElement("div"),n=r.style;return v(n,e),r.className="mrf-marfeelBadge",n.position="fixed",n.display="block",n.bottom="60px",n.right=0,n.zIndex=w,n.backgroundImage="url("+function(e){return"https://"+window.marfeel.GardaCUtil.getMarfeelHost()+"/statics/marfeel/garda/mrf-badge-dflt."+e+".png"}(e)+")",n.backgroundSize="100% 100%",n.webkitBorderTopLeftRadius="6px",n.webkitBorderBottomLeftRadius="6px",setInterval(function(){var e=window.innerWidth;t!==e&&(t=e,v(n))},d),r.addEventListener("touchend",function(e){e.stopPropagation(),window.marfeel.GardaC.reloadMarfeel()}),r}function b(){return/Android 4\.[0-4]/gi.test(window.marfeel.GardaCUtil.navigatorUserAgent)&&!/Chrome/i.test(window.marfeel.GardaCUtil.navigatorUserAgent)}var y={getDeviceType:function(){if(!l){var e=window.marfeel.GardaCUtil.navigatorUserAgent,t=window.marfeel.GardaCUtil.windowWidth,r=window.marfeel.GardaCUtil.windowHeight,n=t>r?"landscape":"portrait",a="portrait"===n&&t<=635||"landscape"===n&&r<=635;/ipad/i.test(e)?l="l":/ip(hone|od)|android.*mobile/i.test(e)||/\bSilk\b/i.test(e)?l="s":/android (?!(1|2|3)\.)[0-9](?!.*mobile)/i.test(e)?l=a?"s":"l":this.isEnabled()||(l=window.marfeel.GardaCUtil.windowInnerWidth<=480?"s":"l")}return l},setDeviceType:function(e){l=e},userWantsMarfeel:function(){return!/marfeelgarda=no|fromt=yes/i.test(window.marfeel.GardaCUtil.locationSearch+";"+window.marfeel.GardaCUtil.documentCookie)},showMarfeelBadge:function(){var e=function e(){window.removeEventListener("DOMContentLoaded",e),document.getElementsByTagName("body")[0].appendChild(x(window.marfeel.GardaC.getDeviceType()))};"interactive"===document.readyState||"complete"===document.readyState?e.call(this):window.addEventListener("DOMContentLoaded",e)},reloadMarfeel:function(){this.cleanMarfeelCookie(),document.location.search=document.location.search.replace("fromt=yes","")},cleanMarfeelCookie:function(){window.marfeel.GardaCUtil.setCookieValue("fromt","no",Number.MAX_SAFE_INTEGER),window.marfeel.GardaCUtil.setCookieValue("FromMarfeelOnError","NO",Number.MAX_SAFE_INTEGER),window.marfeel.GardaCUtil.setCookieValue("MarfeelGarda","YES",Number.MAX_SAFE_INTEGER)},setCookieValue:function(e,t,r){var n=e+"="+t;n+=";expires="+new Date(Date.now()+r).toGMTString(),n+=";domain="+this.documentDomain,n+=";path=/",document.cookie=n},getMarfeelHost:function(){return window.mrf.host},getThemeForDevice:function(){return document.location.hostname.indexOf("newsone.gr")>=0&&"s"===l&&b()?"amp/":""},isEnabled:function(){return!/marfeelgarda=off/i.test(window.marfeel.GardaCUtil.locationSearch)}},M=n.document,C=n.location;n.marfeel=n.marfeel||{},n.mrf=n.mrf||{};var U=4,S=1e4,k=-1,T=1,E=0,A=2,D=1,G="marfeelcherokee",O=n.marfeel.GardaC={},H=n.marfeel.GardaCUtil={};function _(e,t,r,n){var a=new XMLHttpRequest,o=n||{};a.timeout=o.timeout||S,a.open("POST",e),a.setRequestHeader("Content-type",o.contentType),o.withCredentials&&(a.withCredentials=!0),a.onreadystatechange=function(){a.readyState===U&&r()},a.send(t)}function R(e,t,r){return"v=1&tid="+e+"&cid="+t+"&t=event&ec=Error&ea=GardaC-Sync_"+r+"&el="+H.locationHref+"&ev=0"}function B(){return/bb10/i.test(H.navigatorUserAgent)||/(ipad|iphone|ipod).*?OS 4_3/i.test(H.navigatorUserAgent)||H.navigatorUserAgent.indexOf("UCBrowser")!==k||/windows phone/i.test(H.navigatorUserAgent)||H.navigatorUserAgent.indexOf("Opera Mini")!==k||/Firefox|Focus/i.test(H.navigatorUserAgent)}function j(){return"https://"+(H.getMarfeelHost()+"/"+O.getThemeForDevice()+H.documentDomain+H.locationPathname+H.locationSearch).replace(/\/+/g,"/")}i(H,{locationHostname:C.hostname,locationHref:C.href,locationSearch:C.search,locationPathname:C.pathname,navigatorUserAgent:n.navigator.userAgent,documentDomain:M.domain,documentReferrer:M.referrer,documentCookie:M.cookie,windowWidth:n.screen.width,windowInnerWidth:n.innerWidth,windowHeight:n.screen.height,getMarfeelHost:y.getMarfeelHost,getMarfeelName:function(){return n.mrf.name||null},showBadge:function(){return!(B()||!1===n.mrf.showBadge)},setCookieValue:y.setCookieValue,hasCookie:function(e){return M.cookie.indexOf(e)>=0},getMarfeelUrl:function(e){var t=o(n.mrf.transfUrl?n.mrf.transfUrl(j()):j()),r=this.getMarfeelName(),i=function(e){for(var t="",r=0;r<e.length;++r)t+=e[r]?"&"+e[r]:"";return t.substring(T)}(["marfeeldt="+e,r&&"marfeeln="+r,a(t.search)]);return t.origin+t.pathname+"?"+i},trackError:function(e,t){var r=H.generateUUID(),n=3,a=function(){!--n&&t&&t()},o="http://www.google-analytics.com/collect",i={contentType:"application/x-www-form-urlencoded"},l="https://cosmos.marfeel.com/varys_errors-"+Date.now()+"/event",f=JSON.stringify(function(e,t){return{msg:"GardaC-Sync_"+e+": "+H.locationHref,dl:H.locationHref,dh:H.getMarfeelHost(),ua:H.navigatorUserAgent,mdt:O.getDeviceType(),cid:t,type:"gardaerror",ts:Date.now(),referrer:H.documentReferrer}}(e,r));_(o,R("UA-27070218-1",r,e),a,i),_(o,R("UA-27070218-13",r,e),a,i),_(l,f,a,{contentType:"application/json"})},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}),i(O,{getDeviceType:y.getDeviceType,setDeviceType:y.setDeviceType,getThemeForDevice:y.getThemeForDevice,isEnabled:y.isEnabled,userWantsMarfeel:y.userWantsMarfeel,cleanMarfeelCookie:y.cleanMarfeelCookie,isExtractable:function(){var e=M.head.querySelector('meta[name="mrf-extractable"]');return!e||"false"!==e.getAttribute("content")},shouldShowMarfeel:function(){if(!n.mrf.ab)return!0;var e="mrf-ab-"+n.mrf.ab;if(H.hasCookie(e+"="))return H.hasCookie(e+"=true");var t=Math.random()<n.mrf.ab;return H.setCookieValue(e,t,2592e6),t},reloadMarfeel:y.reloadMarfeel,redirectToMarfeel:function(){var e,t=H.getMarfeelUrl(this.getDeviceType()),r=new XMLHttpRequest;r.open("GET",t,!1),r.send(),200===r.status?(n.stop(),(e=M.open("text/html","replace")).write(r.responseText),e.write("<noscript>"),e.close()):(r.status>=500||function(e){return e.status===E&&e.getAllResponseHeaders()}(r))&&H.trackError(r.status)},showMarfeelBadge:y.showMarfeelBadge,installDesktopScript:function(){var e=H.locationPathname.split("/"),t=M.createElement("script");t.src="https://".concat(y.getMarfeelHost(),"/").concat(H.locationHostname)+(n.mrf.multi&&e.length>1&&e[1].length?"/"+e[1]:"")+"/main.d.js",t.async=!0,M.head.appendChild(t)},readConfiguration:function(){var e=M.head.querySelector("[data-mrf-script]");return!!e&&(n.mrf.host=e.getAttribute("data-mrf-host"),n.mrf.dt=e.getAttribute("data-mrf-dt")||3,n.mrf.multi=e.getAttribute("data-mrf-multi"),e.hasAttribute("data-mrf-ab")&&(n.mrf.ab=e.getAttribute("data-mrf-ab")),!0)},perform:function(){(function(e,t){if(B())return!1;var r="l"===e&&t&A,n="s"===e&&t&D,a=H.locationSearch.indexOf(G)>=0;return r||n||a})(this.getDeviceType(),n.mrf.dt)&&this.isExtractable()&&this.shouldShowMarfeel()?this.userWantsMarfeel()?this.redirectToMarfeel():this.isEnabled()&&H.showBadge()&&this.showMarfeelBadge():this.installDesktopScript()}}),O.readConfiguration()&&O.perform()}]);